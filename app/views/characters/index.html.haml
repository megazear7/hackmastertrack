.row
  .col-xs-12.col-sm-6
    %h3 Your Characters
  .col-xs-12.col-sm-6
    %br
    .btn-group.pull-right-sm
      = link_to 'Character Creation', step1_characters_path, class: "btn btn-primary"
      = link_to 'Add Custom Character', new_character_path, class: "btn btn-default"
.row
  - @characters.where(finished: true).order(:name).each do |character|
    .tile.tile-hover.click-link{ data: { click: "character_"+character.id.to_s } }
      %h4= link_to character.name, character_path(character), id: "character_"+character.id.to_s
      %hr
      = character.race.name
      = character.character_class.name
      %hr
      %td= link_to raw('<span class="octicon octicon-trashcan"></span>'), character, :method => :delete, :data => { :confirm => 'Are you sure?' }
- if current_user.admin_level >= 1
  .row
    .col-md-12
      %h3 All Characters 
      %h5 Admin only
  .row
    .col-md-12
      %table.table.table-hover.table-responsive
        %thead
          %tr
            %th Name
            %th Player
            %th Race
            %th Class
            %th
        %tbody
          - Character.where(finished: true).where.not(user_id: current_user.id).order(:user_id, :name).each do |character|
            %tr
              %td= link_to character.name, character_path(character)
              %td= character.user.email
              %td= character.race.name
              %td= character.character_class.name
              %td= link_to raw('<span class="octicon octicon-trashcan"></span>'), character, :method => :delete, :data => { :confirm => 'Are you sure?' }
  .row
    .col-md-12
      %h4 Unfinished Characters
      %h5 Admin only: These characters probably need deleted.
  .row
    .col-md-12
      %table.table.table-hover.table-responsive
        %thead
          %tr
            %th Name
            %th
        %tbody
          - Character.where(finished: [false, nil]).each do |character|
            %tr
              %td= link_to character.name.present? ? character.name : "no-name", character
              %td= link_to raw('<span class="octicon octicon-trashcan"></span>'), character, :method => :delete, :data => { :confirm => 'Are you sure?' }


